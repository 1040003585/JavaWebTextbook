public class UserDaoHibernate {
	public void saveUser(User user) {
	   Session s = null;
	   Transaction tx = null;
	   try {
	     s = HibernateUtil. getThreadLocalSession();
	      tx = s.beginTransaction();
	      s.save(user);
	      tx.commit();
	   	} finally {HibernateUtil.closeSession();}
	}
	public void updateUser(User user) {
	   Session s = null;
	   Transaction tx = null;
	   try {
	      s = HibernateUtil. getThreadLocalSession();
	      tx = s.beginTransaction();
	      s.update(user);
	      tx.commit();
	   } finally {HibernateUtil.closeSession();}
	}
	public void remove(User user) {
	   Session s = null;
	   Transaction tx = null;
	   try {
	     s = HibernateUtil. getThreadLocalSession();

	      tx = s.beginTransaction();
	      s.delete(user);
	      tx.commit();
	 		 } finally {HibernateUtil.closeSession();}
	}
	public User findUserById(int id) {
	   Session s = null;
	   try {
	     s = HibernateUtil. getThreadLocalSession();
	      User user = (User) s.get(User.class, id);
	      return user;
		} finally {HibernateUtil.closeSession();}
	}
	public List<User> QueryAll() {
	   Session s = null;
	   try {
	     s = HibernateUtil. getThreadLocalSession();
	      Query query=s.createQuery("from User");
	      return query.list();
	   } finally {HibernateUtil.closeSession();}
	}
}
