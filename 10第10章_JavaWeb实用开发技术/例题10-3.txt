（1）上传页面upload.jsp：
	<%@ page  pageEncoding="UTF-8"%>
	<html>
	  <body>
	    <form method="post" action="upload" enctype="multipart/form-data">
	       <input type="file" name="file1" contenteditable="false" 
	                   onclick="info.innerHTML=''"/><br/>
	       <input type="submit" value="上传"/>
	    </form>
	    <div id="info">${message}</div>
	  </body>
	</html>
（2）处理上传的Servlet：UpLoad.java，其地址为upload（只列出核心代码）。
	public void doPost(HttpServletRequest request, HttpServletResponse response)
				throws ServletException, IOException {
		String requestip=request.getRemoteAddr();
		String saveDirectory =this.getServletContext().getRealPath("")+"\\upload";   
		File savedir=new File(saveDirectory);
		if(!savedir.exists()){//如果上传目录不存在则创建它
			savedir.mkdirs();
		}
		int maxPostSize = 5 * 1024 * 1024 ;  //上传大小限制：5M
		FileRenamePolicy policy =(FileRenamePolicy)new DefaultFileRenamePolicy(); 
	    MultipartRequest multi;
		multi = new MultipartRequest(request, saveDirectory, maxPostSize,"UTF-8",policy);
		Enumeration<String> files = multi.getFileNames(); 
		String name=files.nextElement();
		File f = multi.getFile(name);
		if(f!=null){
		   String fileName = f.getName();
	        File sServerFile= new File(saveDirectory+"\\" +requestip+"-"+fileName);
	        if(sServerFile.exists()){//将先前上传的文件删除掉，这样重命名才能成功
	   	       sServerFile.delete();
	        }
		   f.renameTo(sServerFile);//重命名文件
		   String  message="文件上传成功！文件名为："+requestip+"-"+fileName;
		   request.setAttribute("message", message);
		}
		request.getRequestDispatcher("/upload.jsp").forward(request, response);
	}