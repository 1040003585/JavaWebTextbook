（1）建立ConnectDbase JavaBean，在该JavaBean中，有方法Connection getConnect()得到一个连接对象，其代码如下：
package ch07_5;
import java.sql.*;
public class ConnectDbase {
	private String driverName = "com.mysql.jdbc.Driver";   //驱动程序名
	private String userName = "root";       //数据库用户名
	private String userPwd = "123456";     //密码
	private String dbName = "user";        //数据库名
	public String getDriverName() {return driverName;}
	public void setDriverName(String driverName){this.driverName = driverName;}
	public String getUserName() {return userName;}
	public void setUserName(String userName) {this.userName = userName;	}
	public String getUserPwd() {return userPwd;}
	public void setUserPwd(String userPwd) {this.userPwd = userPwd;	}
	public String getDbName() {	return dbName;}
	public void setDbName(String dbName) {this.dbName = dbName;} 
    //实现数据库连接的方法
    public Connection getConnect() throws SQLException,ClassNotFoundException { 
        String url1="jdbc:mysql://localhost:3306/"+dbName;
        String url2 ="?user="+userName+"&password="+userPwd;   
        String url3="&useUnicode=true&characterEncoding=GB2312";
        String url =url1+url2+url3;
        Class.forName(driverName);
        return DriverManager.getConnection(url);  
   }
}

（2）建立User JavaBean，在该JavaBean中有两个属性：xm、mm，且有一个实现验证信息的方法boolean yanzheng_uesr(String xm2,String mm2)，其代码如下：
package ch07_5;
import java.sql.*;
public class User {
    private String xm=null;
    private String mm=null;
    public String getXm() { return xm; }
    public void setXm(String xm) { this.xm =xm;}
    public String getMm() { return mm;}
    public void setMm(String mm) {this.mm = mm;}
    public User(){}                  //缺省的构造方法
    public User(String a,String b){   //带参数的构造方法
          xm=a;mm=b;
       }
    public boolean yanzheng_uesr(String xm2,String mm2) //判定当输入信息正确，返回true
            throws SQLException, ClassNotFoundException{
      boolean f= false;
      ConnectDbase cdb=new ConnectDbase();
      Connection conn = cdb.getConnect(); 
      String  sql="select * from user_b  where(uname=? and upassword=?)";
      PreparedStatement pstmt= conn.prepareStatement(sql);
      pstmt.setString(1,xm2);
      pstmt.setString(2,mm2);    
      ResultSet  rs=pstmt.executeQuery();  
      if(rs.next()) f=true;
      else f= false;
     if(rs!=null)rs.close();
     if(pstmt!=null)pstmt.close();
     if(conn!=null)conn.close(); 
     return f;
   }

（3）设计提交页面（ch07_5_tijiao.jsp）提交登录信息；其代码如下：
<%@ page language="java"  pageEncoding="GB2312"%>
<html> 
  <head><title>用户登录提交页面</title></head>  
  <body>
    <form  action="ch07_5_show.jsp" method="post">
         用  户  名：<input type="text" name="xm"><br><br>
         用户密码：<input type="password" name="mm"><br><br> 
         <input type="submit" value="登录">
    </form>
  </body>
</html>

（4）设计验证页面（ch07_5_show.jsp)，其代码如下：
<%@ page language="java" pageEncoding="GB2312"%>
<html>
  <head>   <title>登录验证页面</title> </head>  
  <body> 
        <% request.setCharacterEncoding("GB2312"); %>
        <jsp:useBean id="uu" class="ch07_5.User"/>
        <jsp:setProperty name="uu" property="*"/> 
        <% if(uu.yanzheng_uesr(uu.getXm(),uu.getMm())) %>
              <%=uu.getXm() %> :登录成功！<br> 
       <% else %> 
            <%=uu.getXm() %>:登录失败！<br>
  </body>
</html>
