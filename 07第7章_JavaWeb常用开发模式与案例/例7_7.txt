(1) 登录表单页面（ch07_7_tijiao.jsp）提交登录信息，其代码如下：
<%@ page language="java"  pageEncoding="GB2312"%>
<html> 
  <head><title>用户登录提交页面</title></head>  
  <body>
    <form  action=" ch07_7_servlet_yanzheng " method="post">
         用  户  名：<input type="text" name="xm"><br><br>
         用户密码：<input type="password" name="mm"><br><br> 
         <input type="submit" value="登录">
    </form>
  </body>
</html>

(2) 负责验证处理的Servlet类（ch07_7_yanzheng.java），其代码如下：
package ch08_7_servlet;
import java.io.IOException;
import java.sql.*;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
public class ch07_7_servlet_yanzheng extends HttpServlet {
	public void doGet(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		String driverName = "com.mysql.jdbc.Driver";   //驱动程序名
		String userName = "root";       //数据库用户名
		String userPwd = "123456";      //密码
		String dbName = "user";        //数据库名  
		String  url1="jdbc:mysql://localhost:3306/"+dbName;
		String url2 ="?user="+userName+"&password="+userPwd; 
	     String url3="&useUnicode=true&characterEncoding=GB2312";
	     String url =url1+url2+url3;
	     request.setCharacterEncoding("GB2312"); 
         String name=request.getParameter("xm");
         String pw=request.getParameter("mm");
         RequestDispatcher dis=null;//设置转发的对象
	     try {
		   Class.forName(driverName);
	        Connection conn=DriverManager.getConnection(url); 
	        String  sql="select * from user_b  where(uname=? and upassword=?)";
	        PreparedStatement pstmt= conn.prepareStatement(sql);
	        pstmt.setString(1,name);
	        pstmt.setString(2,pw);    
	        ResultSet  rs=pstmt.executeQuery(); 
	        if(rs.next()){ 
	        	  if(rs!=null)rs.close();   
	             if(pstmt!=null)pstmt.close();
                  if(conn!=null)conn.close();
	             dis=request.getRequestDispatcher("ch07_7_success.jsp");
                  dis .forward(request,response);
	        }
	        else{
	        	  if(rs!=null)rs.close(); 
	             if(pstmt!=null)pstmt.close();
	             if(conn!=null)conn.close(); 
	        	  dis=request.getRequestDispatcher("ch07_7_error.jsp");
	             dis.forward(request,response);
	        }
	    } catch (Exception e) {
			e.printStackTrace();
		}
	}
	public void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		doGet(request, response);
	}
}

（3）Servlet的配置文件Web.xml，其配置的关键信息：
  <servlet>
    <servlet-name>ch07_7_servlet_yanzheng</servlet-name>
    <servlet-class>ch07_7_servlet.ch07_7_servlet_yanzheng</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ch07_7_servlet_yanzheng</servlet-name>
    <url-pattern>/ch07_7_servlet_yanzheng</url-pattern>
  </servlet-mapping>
  
(4) 登录成功后的页面（ch07_7_success.jsp），其代码：
<%@ page language="java"  pageEncoding="GB2312"%>
<html>
  <head>   <title>登录验证成功页面</title> </head>  
  <body>  <%=request.getParameter("xm") %>:登录成功！<br> </body>
</html>

(5) 登录失败后的页面（ch07_7_error.jsp），其代码：
<%@ page language="java"  pageEncoding="GB2312"%>
<html>
  <head>   <title>登录验证出错页面</title> </head>  
  <body>  <%=request.getParameter("xm") %>:登录失败！<br> </body>
</html>
